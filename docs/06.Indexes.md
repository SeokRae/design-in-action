## Indexes
- 인덱스는 데이터베이스와 관련하여 잘 알려져있다.
- 조만간 데이터베이스 성능이 더 이상 만족스럽지 않은 때가 온다.
- 이런 일이 발생했을 떄 가장 먼저 확인해야 할 것 중 하나는 데이터베이스 인덱싱이다.

- 데이터베이스의 특정 테이블에 대한 `인덱스를 만드는 목표`
    - 테이블을 더 빠르게 검색하고 원하는 행을 찾는 것
- `인덱스`
    - 데이터베이스 테이블의 하나 이상의 열을 사용하여 생성할 수 있다.
    - `빠른 임의 조회`와 `정렬 된 레코드의 효율적인 엑세스`를 위한 기반을 제공한다.

### Example: A library catalog
- 도서관 카탈로그는 도서관에서 찾은 도서 목록이 포함되어 있다.
- 카탈로그는 일반적으로 책 제목, 작가, 주제 및 발행일의 4 가지 열로 구성되어 데이터베이스 테이블로 구성되어 있다.

- 일반적으로 두 가지 카탈로그가 있다.
    - 하나는 책 제목으로 정렬된 리스트
    - 다른 하나는 작가 이름으로 정렬된 리스트
    
- 검색 방식
    - 읽고 싶은 `작가`를 생각한 다음 그 책을 훑어본다. 
    - `작가의 이름을 모를 경우`를 대비하여 읽고 싶은 `특정 책 제목`을 찾을 수 있다.
    - 이러한 방식의 카탈로그는 도서 데이터베이스의 색인과 같다.
    - 관련 정보로 쉽게 검색할 수 있는 정렬된 데이터 목록을 제공할 수 있다.

- 해당 예제의 인덱스
    - 실제 데이터가 있는 위치를 가리키는 목차로 인식할 수 있는 데이터 구조이다.
    - 테이블의 열에 인덱스를 만들 때 해당열과 인덱스의 전체 행에 대한 포인터를 저장한다.

- 책 제목이 포함된 테이블을 가정하는 경우

- 정리
    - 기존의 관계형 데이터 저장소와 마찬가지로 이 개념을 더 `큰 데이터 셋`에 적용할 수 있다.
    - 사용자가 `데이터에 액세스 하는 방법`을 신중하게 고려해야 한다.
    - 크기는 수 테라 바이트이지만 페이로드가 매우 작은 데이터 세트의 경우 데이터 액세스를 최적화하려면 인덱스가 필요하다.
    - 합리적인 시간에 그렇게 많은 데이터를 반복 할 수 없기 때문에 이러한 대규모 데이터 셋에서 작은 페이로드를 찾는 것은 진정한 도전이 될 수 있다.
    - 또한 이러한 `대용량 데이터 세트`가 여러 물리적 장치에 분산되어있을 가능성이 매우 높다.
    - 이는 원하는 데이터의 정확한 물리적 위치를 찾을 수 있는 방법이 필요함을 의미합니다. 
    - `인덱스`는 이를 수행하는 가장 좋은 방법이다.

### How do Indexes decrease write performance?
- `인덱스`는 데이터 검색 속도를 크게 높일 수 있지만, `추가 키`로 인해 `데이터 삽입 및 업데이트` 속도가 느려질 수 있다.

- 인덱스가 있는 테이블에 행을 `추가`하거나 기존 행을 `업데이트` 할 때 인덱스를 `쓸 뿐`만아니라, 인덱스도 `업데이트` 해야 한다.
- 이는 쓰기 성능을 감소시킬 수 있다.
- 이러한 `성능 저하`는 테이블에 대한 모든 `삽입, 업데이트 및 삭제 작업`에 적용된다.
- 따라서 테이블에 `불필요한 인덱스를 추가하는 것을 피해`야하며, `더이상 사용하지 않는 인덱스는 제거`해야 한다.

- `인덱스를 추가`하는 것은 `검색 쿼리의 성능을 향상`시키기 위함이다.

- 정리
    - 데이터베이스의 목표가 write가 빈번하고 select의 빈도수가 적은 경우 
    - 쓰기작업(write)의 성능이 낮아지는 것은 읽는(select) 작업으로서 얻는 성능향상의 가치가 의미 없을 것이다.

### 참고
- [데이터베이스 인덱스](https://en.wikipedia.org/wiki/Database_index)
