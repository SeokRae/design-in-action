## SQL vs NoSQL
- 데이터베이스의 종류에는 SQL과 NoSQL의 두 가지 솔루션 유형이 있다.
- 두 가지 모두 **구축 방식**과 **저장되는 정보의 종류**, **사용하는 방법** 등에 차이가 있다.


- **관계형 데이터베이스**는 구조화되어 있으며 미리 정의된 스키마를 가지고 있다.
- **비관계형 데이터베이스**는 구조화되지않고 분산되어 있으며, 파일 폴더와 같은 동적 스키마를 가지고 있다.
- ACID를 보장하고 데이터 스키마에 변화가 없는 경우 **관계형 데이터베이스**를 선택
- 스키마가 동적으로 변하고 빠르게 확장할 가능성이 있는 경우 **비관계형 데이터베이스**를 선택

### SQL
- 관계형 데이터베이스는 행과 열에 데이터를 저장한다.
- 대표적인 관계형 데이터베이스로는 MySQL, Oracle, MSSQL Server, SQLite, Postgres, MariaDB 등이 있다.

### NoSQL
> NoSQL의 가장 일반적인 유형

1. **key-value**
    - 데이터는 키-값 쌍의 배열로 저장된다.
    - 잘 알려진 key-value 저장소로는 Redis, Voldemort, and Dynamo.

2. **Document**
    - 데이터는 문서에 저장되며, 이러한 문서는 집합으로 그룹화된다.
    - 각 문서는 완전히 다른 구조를 가질 수 있다. 문서 데이터베이스는 CouchDB와 MongoDB를 포함한다.

3. **Wide-Column Databases**
    - 테이블 대신 데이터베이스에는 행을 위한 컨테이너인 column families를 갖고 있다.
    - 관계형 데이터베이스와 달리, 모든 열을 알 필요가 없고 각행이 같은 수의 열을 가질 필요가 없다.
    - 컬럼니스트 데이터베이스는 대규모 데이터셋을 분석하는 데 가장 적합하다.
    - 해당 데이터베이스에는 Cassandra와 HBase가 있다.

4. **Graph Databases**
    - 해당 데이터베이스는 그래프에 가장 잘 표현된 관계를 가진 데이터를 저장하는데 사용된다.
    - 데이터는 nodes(entities), properties (information about the entities), lines(connections between the entities).그래프 구조로 저장된다.
    - 그래프 데이터베이스의 예로는 Neo4J, InfiniteGraph가 있다.

### High level differences between SQL and NoSQL

|Database|SQL|NoSQL|
|:---|:---|:---|
|Storage|- 각 행이 entity를 나타내는 table에 데이터를 저장한다. <br> - 각 열은 해당 entity에 대한 데이터 지점을 나타내는 table에 저장된다.|- 데이터베이스는 서로 다른 데이터 스토리지 모델을 가지고 있다. <br> - 주요 내용은 키값, 문서, 그래프, 컬럼니스트 등이 있다.|
|Schema|- 각 레코드는 고정된 스키마를 준수한다. <br> - 데이터 입력 전에 열을 결정하고 선택해야 하며 각 행에는 각 열에 대한 데이터가 있어야 한다.|- NoSQL의 스키마는 동적이다. <br> - 열은 즉시 추가할 수 있으며 각 행은 열에 대한 데이터를 포함할 필요가 없다.|
|Querying|- SQL 데이터베이스는 데이터를 정의하고 조작하기 위해 SQL을 사용한다.|- 데이터베이스에서 쿼리는 문서 집합에 초점을 맞춘다. <br> - 때로는 UnQL이라불리며, 데이터베이스마다 UnQL을 사용하는 구문이 다르다.|
|Scalability|- 대부분 일반적인 상황에서 SQL 데이터베이스는 하드웨어의 높은 메모리, CPU 등을 증가시켜 수직적으로 확장이 가능하다. <br> - 하지만 이는 비용이 비싸며 확장하기에 어렵고 시간이 많이 걸린다.|- NoSQL 데이터베이스는 수평적으로 확장이 가능 <br> - 많은 트래픽을 처리하기 위해 NoSQL 데이터베이스 인프라에 서버를 쉽게 추가할 수 있다. <br> - 저렴한 범용 하드웨어 또는 클라우드 인스턴스는 NoSQL 데이터베이스를 호스팅할 수 있으므로 확장보다 훨씬 비용적으로 효율적이다. <br> s- 많은 NoSQL 기술들도 자동으로 서버 전체에 데이터를 배포 한다.|
|Reliability or ACID Compliancy (Atomicity, Consistency, Isolation, Durability)|- 대부분의 관계형 데이터베이스는 ACID를 준수한다. <br/> - 따라서 데이터에 대한 신뢰성과 트랜잭션 수행에 대한 안전한 보장에 있어서 유리하다.|- 대부분의 NoSQL 솔루션은 성능과 확장성을 위하여 ACID를 희생한다.|

### SQL VS. NoSQL - Which one to use?
- 데이터베이스 기술에 관한 모든 것을 하나로 맞출 수 있는 솔루션은 존재하지 않는다.
- NoSQL 데이터베이스는 속도와 확장성으로 인기를 얻고 있지만, 여전히 고도로 구조화된 SQL 데이터베이스가 더 나은 성능을 발휘할 수 있는 상황이다.

> Reasons to use SQL database
1. **ACID를 보장해야하는 이유가 있는 경우,**
    - 트랜잭션과 데이터베이스의 상호작용 방식을 정확하게 규정함으로써 이상 징후를 줄이고 데이터베이스의 무결성을 보장한다.
    - 많은 전자상거래 및 금융 애플리케이션의 경우 ACID를 보장하기 위해 사용된다.
2. **데이터가 구조적으로 변하지 않는 경우**
    - 비즈니스가 더 많은 서버를 필요로 하는 대규모 성장을 경험하지 않고 일관성이 있는 데이터로만 작업하는 경우에 사용한다.
    - 다양한 데이터 유형과 높은 트래픽 볼륨을 지원하도록 설계된 시스템을 사용할 이유가 없을 떄 사용한다.

> Reasons to use NoSQL database

- 애플리케이션의 다른 구성요소가 빠르고 원할한 경우, NoSQL 데이터베이스는 데이터가 병목현상이 되는 것을 방지
- NoSQL 데이터베이스의 예는 MongoDB, CouchDB, Cassandra, HBase이다.

1. **구조가 거의 또는 전혀 없는 대량의 데이터를 저장하는 경우**
    - NoSQL 데이터베이스는 저장할 수 있는 데이터 유형에 대한 제한을 설정하지 않으며, 필요에 따라 새로운 유형을 추가할 수 있다.
    - 문서 기반 데이터베이스를 사용하면 사전에 데이터의 `type`을 정의할 필요 없이 데이터를 한 곳에 저장할 수 있다.

2. **번거로움 없이 즉시 여러 데이터 센터로 확장하려는 경우**
    - NoSQL은 여러 데이터 센터로 확장될 수 있도록 설계되어 있다.

3. **급속한 발전이 필요한 경우**
    - 버전 간에 많은 다운타임 없이 데이터 구조를 자주 업데이트를 수행하는 경우 관계형 데이터베이스를 사용하면 속도가 느려질 수 있다.
    - NoSQL과 같은 경우 미리 스키마 구성을 수정하는 비용을 들이지 않아도 되기 때문에 빠른 개발에 유용하다.
